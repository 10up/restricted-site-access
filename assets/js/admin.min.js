!function(a,b){"use strict";b(".notice").on("click",".notice-dismiss",function(a){a.delegateTarget.getAttribute("data-rsa-notice")&&b.ajax({method:"post",data:{nonce:rsaAdmin.nonce,action:"rsa_notice_dismiss"},url:ajaxurl})})}(window,jQuery),function(a,b){"use strict";({els:{dialog:document.getElementById("rsa-disable-dialog"),placeholderA:document.getElementById("rsa-operator-a"),placeholderB:document.getElementById("rsa-operator-b"),userResult:document.getElementById("rsa-user-result")},variables:{operatorA:0,operatorB:0,expectedAnswer:0,disablingURL:null},openDialog:function(a){a.preventDefault(),b(this.els.dialog).dialog("open")},getRandomNum:function(){return Math.floor(10*Math.random())},isExpectedAnswer:function(){return parseInt(this.els.userResult.value,10)===this.variables.expectedAnswer},dialogSettings:function(){var c=this;b(this.els.dialog).dialog({title:"⚠️ "+rsaAdmin.strings.warning,dialogClass:"wp-dialog",autoOpen:!1,draggable:!1,width:"auto",modal:!0,resizable:!1,buttons:[{text:rsaAdmin.strings.confirm,click:function(){c.isExpectedAnswer()?b.ajax({method:"post",data:{nonce:rsaAdmin.nonce,user:rsaAdmin.user,action:"rsa_network_disable_log"},url:ajaxurl}).always(function(){c.els.userResult.style.border="",a.location.href=c.variables.disablingURL}):(c.els.userResult.style.border="1px solid red",c.els.userResult.title=rsaAdmin.strings.error.replace("%d",c.variables.expectedAnswer))}},{text:rsaAdmin.strings.cancel,click:function(){b(this).dialog("close")}}],open:function(){c.refreshValues(),b(".ui-widget-overlay").bind("click",function(){b(c.els.dialog).dialog("close")})},create:function(){b(".ui-dialog-titlebar-close").addClass("ui-button")}})},refreshValues:function(){var a=this.variables;a.operatorA=this.getRandomNum(),a.operatorB=this.getRandomNum(),a.expectedAnswer=a.operatorA+a.operatorB,this.els.placeholderA.innerText=a.operatorA,this.els.placeholderB.innerText=a.operatorB},bindEvents:function(){b('[data-slug="restricted-site-access"]').on("click",".deactivate a",this.openDialog.bind(this))},init:function(){Boolean(rsaAdmin.isNetworkWidePluginsPage)&&(this.variables.disablingURL=document.getElementById("the-list").querySelector('[data-slug="restricted-site-access"] .deactivate a').href,this.bindEvents(),this.refreshValues(),this.dialogSettings())}}).init()}(window,jQuery);